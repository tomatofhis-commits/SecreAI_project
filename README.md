# SecreAI_project
ゲームをしながら簡単な操作でAIに相談できるシステム
　SecreAI - ユーザーガイド

この度は「AI秘書システム」をご利用いただきありがとうございます。
本システムは、GoogleのAI「Gemini」をベースとして使用し、会話・視覚（画面取り込み）から返答を生成します。
ゲーム画面や配信画面へのオーバーレイ表示と音声読み上げにより、あなたの頼れる秘書や相棒へと成長していくAIアシスタントです。

1. 同梱内容の確認
インストーラーによって以下の構成で配置されます（デフォルト：%LOCALAPPDATA%\SecreAI）。
secreAI.exe : 操作用のメインパネル（ハブ）です。
scripts/ : AIの各機能（会話、記憶整理、学習）を司るプログラム群です。
config/ : 設定ファイル（config.json）を保存します。
data/ : 言語ファイル、会話履歴、一時音声データが保存されます。
memory_db/ : ChromaDBによる長期記憶データベースが構築されます。

**【重要】上書きインストール時の注意**
上書きインストールで起動に失敗する場合は、以下の手順でクリーンインストールを行ってください：
1. Windowsの「設定」→「アプリ」からSecreAIをアンインストール
2. インストーラーを再度実行してインストール
※設定ファイルや記憶データは自動的に保持されます。

2. 事前準備
・GEMINI_API_KEY
　APIキーは Google AI Studio（https://ai.google.dev/aistudio?hl=ja） から取得可能です。
　クレジットカードの登録が必要ですが、本ソフトの想定する使用の範囲では３か月程度は無料枠で使用可能です。（後ほど詳細は説明します）
　完全無料で使用することも可能ですが使用回数の制限が厳しいです。
・Elgato Stream Deck（https://www.elgato.com/jp/ja/s/stream-deck-app?srsltid=AfmBOoqTtWrEY_AAh35KTHT3jIzpZ5JF6nHuThISU61Ykg20VBoMVCMm）
　スマートフォンからPCを操作できるアプリ。（無料の機能制限版で使用可能です）
　こちらはスマートフォン、PC両方にインストールしてください。
また次のものを用意すると機能をフルで使用できます
・OpenAIのAPIkey
　GPT-5などが使用できるようになります
・VOICEVOX（https://voicevox.hiroshiba.jp/）
　日本語の読み上げに必要なテキスト読み上げ・歌声合成ソフトウェア。（フリーソフト）
・Ollama (https://ollama.com/)
　ローカルでの高度な記憶整理や推論に使用します。別途インストールが必要です。

3. 基本的な使い方とシステム説明
① ハブを起動する
AI_Secretary_Hub.exe をダブルクリックして起動してください。メインパネルが表示されます。

②初期設定
右下の「詳細設定を開く」ボタンをクリック
設定画面が開きます。

③Gemini API KeyとVOICEVOXのエンジンのパスの指定
Gemini API KeはGoogle AI Studioで取得してください。
VOICEVOXのエンジンはVOICEVOXをインストールしたフォルダ内にあるvv-engineフォルダの中にrun.exeがあります。
そのパスを指定してください。
他の設定はそのままでも大丈夫ですがAIモデルに関しては後述します。
※その後、メニューバーのシステムから再起動をしてください。

④ 使い方
チャット入力： 左下のテキストボックスに書き込みエンターを押す。
ボイスモード: ボタンを押して少し待つと「質問は何ですか？」という声が聞こえます。そうしたらマイクに話してください。
おしゃべり停止： 強制的に処理を止めます。
ビジョンモード: ボタンを押して少しつと「この画像の何を聞きたいですか？」という声が聞こえます。そうしたらマイクに話してください。
グッド・バッド： 押すとAIが何が良かったのか悪かったのかの要素を分析してそのあとの会話に反映します。開始と完了チャイムが流れます。
修正： 直前の回答に【※AIによる誤認・不適切な回答】という記述を加えます。そのあとバッドを押すことを推奨します。
ログ画面の消去： 左側のログが消えます。（今までの会話内容は保存されています。）
ターゲットウィンドウ： ここでウィンドウを選択するとビジョンモードを使用したときにその範囲をキャプチャします。
読み上げ速度： 好きなものを選んでください。
今日の前提条件： ここに入力されたことがAIの返答に加味されます。このシステムには日時を認識する機能はつけていませんので日付が必要ならここに書き込んでください。その他、今遊んでいるゲームタイトルを入れるなど、事前に条件が設定できます。
クイック保存・反映： 上記３項目を保存し反映させます。
詳細設定を開く： 設定を開きます。

⑤ AIの教育
このシステムは「短期記憶」「中期記憶」「長期記憶」「フィードバック」の４つを学習していきます。
「短期記憶」「中期記憶」「長期記憶」は使用していく中で自動的に更新されていきます。
AIからの返答を読み上げた後にチャイムが鳴ることがあります。（通常の使い方なら５回に１回程度）
そのタイミングで「中期記憶」「長期記憶」を整理していますので、完了を伝えるチャイムが鳴るのを待ってから次の操作をしてください。
「フィードバック」はグッド・バットを押したときに、なぜ押されたのかをAIが分析して次からの会話に反映されていきます。
以上の機能を繰り返しAIは使用者の頼れる秘書や相棒へと成長していきます。

⑥終了はウィンドウを閉じても終了になりません。
タスクバー右のアイコンを右クリックして閉じてください。

4. Gemini AIモデルと料金について
※2026年1月現在
このシステムには4つのAIモデルを選択できるようにしてあります。
それぞれ以下の通りの特徴があります。

Gemini-2.5-flash-lite    採用モデルの中では一番最速
Gemini-2.5-flash         価格・パフォーマンスのバランスモデル
Gemini-3-flash-preview   スピード・スケールのバランスモデル
Gemini-3-pro-preview     世界最高強力なエージェント型モデル

このバージョンでデフォルト設定は通常の処理を「Gemini-2.5-flash」に、複雑な処理が「Gemini-3-pro-preview」となっています。
複雑な処理は「フィードバック」の後処理にのみ使っております。
このソフトウェアの構想を立てていた時は十分な無料枠がありましたが、現在は無料で使う設定では各モデル１日に１０～２０回程度の無料枠しかありません。
一応liteモデルは回数制限がかなり緩和されているようですが非常におバカな返答になります。
「Google Cloud」でクレジットカードと紐づけし有料モードにすることで３００ドル分（有効期限３か月）の無料枠がもらえます。
このソフトウェアで３００ドル分使用するほど利用することは稀なので有効期限までは使えると思います。
そして「Google Cloud」の「予算アラート」を１円にしておけば料金がかかった時点で通知が来るようになります。
その後は使った分の課金になりますので３００ドル（３か月）の間にご自身の使用頻度を確認していただいて、そのまま使うかどうかをご検討ください。

※この無料のある設定は使用データがGoogleにフィードバックし学習に使用されます。
機密情報を取り扱う用途には使用をお勧めできません。
そのような用途に使用する場合は有料アカウントにお申し込みください。

5. Stream Deckと連携する為に
各ボタンは「Webサイト」キーで操作呼び出しができます。
「背景でGETリクエストを実行」にチェックを入れて次のアドレスを設定してください。

ボイスモード： http://localhost:5000/api/voice
ビジョンモード： http://localhost:5000/api/vision
おしゃべり停止： http://localhost:5000/api/stop
Good： http://localhost:5000/api/feedback_good
Bad： http://localhost:5000/api/feedback_bad
修正： http://localhost:5000/api/fix
詳細設定： http://localhost:5000/api/settings
クリア： http://localhost:5000/api/clear
    ※この「クリア」はウィンドウにある「ログ画面の消去」ボタンとは異なり「短期記憶」の内容を「中期記憶」「長期記憶」に写した後に消去します。

6. 免責事項・ご利用上の注意
本ソフトウェア（SecreAI）のご利用にあたっては、以下の事項を必ずご確認ください。
・無保証: 本ソフトウェアは現状有姿で提供され、動作の正確性、完全性、または特定の目的への適合性について、作者は一切の保証を行いません。
・責任の制限: 本ソフトウェアの使用、または使用不能によって生じた直接的・間接的な損害（データ消失、PCの不具合、業務中断、金銭的損失など）について、作者は一切の責任を負いません。
・API利用料と利用規約: Gemini APIの利用に伴う料金の発生や、Googleの規約変更による動作不能、アカウントの制限等について、作者は関与いたしません。利用料の管理はすべてユーザーの自己責任となります。
・AIの回答内容: AI（Gemini）が生成する回答の正確性や安全性について保証するものではありません。AIによる誤認、不適切な表現、または著作権等に抵触する回答が生成された場合でも、作者は責任を負いかねます。

7. 禁止事項・再配布について
本ソフトウェアの健全な運営と、作者の権利保護のため、以下の行為を禁止します。
再配布の禁止: 本ソフトウェア一式（python_env、scripts、実行ファイル等を含むすべて）を、作者の許可なく第三者へ配布、転載、またはアップロードする行為を禁止します。
商業利用の制限: 本ソフトウェアをそのまま、あるいは一部を組み込んで販売する等の商用利用を禁止します。
リバースエンジニアリングの禁止: 本ソフトウェアを解析、改変し、不当な目的で利用する行為を禁止します。
権利の帰属: 本ソフトウェアに含まれる各プログラムの著作権は、作者または各ライブラリの権利者に帰属します。
